@model Tuple<IEnumerable<RR.Dto.NewsDto>, IEnumerable<RR.Dto.NewsDto>>
@{
    string basePath = ViewBag.NewsPicPath;
}
<!-- Blog Alise-->
<div class="block-aside">
    <div class="block-aside-item">
        <!-- Heading Component-->
        <article class="heading-component">
            <div class="heading-component-inner">
                <h5 class="heading-component-title">Our Features</h5>
            </div>
        </article>
        <div class="tabs-custom tabs-horizontal tabs-modern" id="tabs-modern">
            <ul class="nav nav-tabs">
                <li class="nav-item" role="presentation"><a class="nav-link active" href="#tabs-modern-1" data-toggle="tab">Most Recent</a></li>
                <li class="nav-item" role="presentation"><a class="nav-link" href="#tabs-modern-2" data-toggle="tab">Top Stories</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="tabs-modern-1">
                    @if (Model != null && Model.Item1 != null && Model.Item1.Count() > 0)
                    {
                        foreach (var item in Model.Item1)
                        {
                           // string path = "/shared/news" + "/" + item.PicPath;
                            string path = basePath + item.PicPath;
                            string url = "/news/" + item.Title.Replace(" ", "-").ToLower() + "/" + item.Id;
                            <!-- Post Classic-->
                            <article class="post-classic">
                                <div class="post-classic-aside">
                                    @if (!string.IsNullOrEmpty(item.PicPath))
                                    {
                                    <a class="post-classic-figure" href="@url">
                                        <img onerror="this.onerror=null;this.src='/images/notFound.jpg';" src="@path" alt="" width="94" height="94">
                                    </a>
                                    }
                                    @if (!string.IsNullOrEmpty(item.VideoPath))
                                    {
                                        <video width="94" height="94" src="@(string.Concat(ViewBag.NewsPicPath,item.VideoPath))">
                                            Your browser does not support the video tag.
                                        </video>
                                    }

                                    @if (!string.IsNullOrEmpty(item.VideoUrl))
                                    {
                                        @if (item.VideoUrl.Contains("https://www.youtube.com"))
                                        {
                                            string videoID = item.VideoUrl.Split("watch?v=")[1];
                                            <img width="114" height="94" src="https://i.ytimg.com/vi/@videoID/maxresdefault.jpg" />

                                        }
                                    }
                                    
                                </div>
                                <div class="post-classic-main">
                                    <p class="post-classic-title">
                                        <a href="@url">
                                            @(item.Title.Length > 20 ? item.Title.Substring(0, 20) + "..." : item.Title)
                                        </a>
                                    </p>
                                    <div class="post-classic-time">
                                        <i class="fa fa-calendar"></i>
                                        <time datetime="@item.NewsDate.Year">
                                            @item.NewsDate.ToString("MMM dd,yyyy")
                                            <!-- Tabs Modern with Post Classic-->
                                        </time>
                                    </div>
                                </div>
                            </article>
                        }
                    }
                    else
                    {
                        <article class="post-classic">
                            <div class="post-classic-aside">
                            </div>
                            <div class="post-classic-main">
                                <p class="post-classic-title">
                                    No Record Found!!
                                </p>
                                <div class="post-classic-time">
                                    <i class="fa fa-calendar"></i>
                                </div>
                            </div>
                        </article>
                    }
                </div>
                <div class="tab-pane fade" id="tabs-modern-2">
                    @if (Model != null && Model.Item2 != null && Model.Item2.Count() > 0)
                    {
                        foreach (var item in Model.Item2)
                        {
                            //string path = "/shared/news" + "/" + item.PicPath;
                            string path = basePath + "/" + item.PicPath;
                            
                            string url = "/news/" + item.Title.Replace(" ", "-").ToLower() + "/" + item.Id;
                            <!-- Post Classic-->
                            <article class="post-classic">
                                <div class="post-classic-aside">
                                    @if (!string.IsNullOrEmpty(item.PicPath))
                                    {
                                        <a class="post-classic-figure" href="@url">
                                            <img onerror="this.onerror=null;this.src='/images/notFound.jpg';" src="@path" alt="" width="94" height="94">
                                        </a>
                                    }
                                    @if (!string.IsNullOrEmpty(item.VideoPath))
                                    {
                                        <video width="94" height="94" src="@(string.Concat(ViewBag.NewsPicPath,item.VideoPath))">
                                            Your browser does not support the video tag.
                                        </video>
                                    }

                                    @if (!string.IsNullOrEmpty(item.VideoUrl))
                                    {
                                        @if (item.VideoUrl.Contains("https://www.youtube.com"))
                                        {
                                            string videoID = item.VideoUrl.Split("watch?v=")[1];
                                            <img width="114" height="94" src="https://i.ytimg.com/vi/@videoID/maxresdefault.jpg" />

                                        }
                                    }

                                </div>
                                <div class="post-classic-main">
                                    <p class="post-classic-title">
                                        <a href="@url">
                                            @(item.Title.Length > 20 ? item.Title.Substring(0, 20) + "..." : item.Title)
                                        </a>
                                    </p>
                                    <div class="post-classic-time">
                                        <i class="fa fa-calendar"></i>
                                        <time datetime="@item.NewsDate.Year">
                                            @item.NewsDate.ToString("MMM dd,yyyy")
                                            <!-- Tabs Modern with Post Classic-->
                                        </time>
                                    </div>
                                </div>
                            </article>
                        }
                    }
                    else
                    {
                        <article class="post-classic">
                            <div class="post-classic-aside">
                            </div>
                            <div class="post-classic-main">
                                <p class="post-classic-title">
                                    No Record Found!!
                                </p>
                                <div class="post-classic-time">
                                    <i class="fa fa-calendar"></i>
                                </div>
                            </div>
                        </article>
                    }
                </div>

            </div>
        </div>
    </div>
    <div class="block-aside-item">
        <!-- Heading Component-->
        <article class="heading-component">
            <div class="heading-component-inner">
                <h5 class="heading-component-title">Follow Us</h5>
            </div>
        </article>
        <!-- Buttons Media-->
        <div class="group-sm group-flex">
            <a class="button-media button-media-facebook" href="https://www.facebook.com/Rank-Ride-App-119745332761268/?ref=content_filter">
                @*<h4 class="button-media-title">50k</h4>*@
                <p class="button-media-action">Like<span class="icon material-icons-add_circle_outline icon-sm"></span></p><span class="button-media-icon fa-facebook"></span>
            </a>
            @*<a class="button-media button-media-twitter" href="#">
                    <h4 class="button-media-title">120k</h4>
                    <p class="button-media-action">Follow<span class="icon material-icons-add_circle_outline icon-sm"></span></p><span class="button-media-icon fa-twitter"></span>
                </a>
                <a class="button-media button-media-google" href="#">
                    <h4 class="button-media-title">15k</h4>
                    <p class="button-media-action">Follow<span class="icon material-icons-add_circle_outline icon-sm"></span></p><span class="button-media-icon fa-google"></span>
                </a>*@
            <a class="button-media button-media-instagram" href="https://www.instagram.com/rankrideapp/?igshid=qkkhvkqb8ycp">
                @*<h4 class="button-media-title">85k</h4>*@
                <p class="button-media-action">Follow<span class="icon material-icons-add_circle_outline icon-sm"></span></p><span class="button-media-icon fa-instagram"></span>
            </a>
        </div>
    </div>

</div>