@model IEnumerable<RR.Dto.EventDrawDto>
@*@model IEnumerable<RR.Dto.EventDrawApiDto>*@
@{
    ViewData["Title"] = "EventDraw";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="section parallax-container breadcrumbs-wrap" data-parallax-img="/images/bg-breadcrumbs-1-1920x726.jpg">
    <div class="parallax-content breadcrumbs-custom context-dark">
        <div class="container">
            <h3 class="breadcrumbs-custom-title">Draw Page</h3>
        </div>
    </div>
</section>

<section class="section section-variant-1 bg-gray-100">
    <div class="container">
        <div class="col-lg-12 custom-bg-gray-100 custom-draw-pad">
            <!-- Heading Component-->
            <div class="promo-creative unit-spacing-lg pt-30">
                <div class="unit unit-md-horizontal align-items-center align-items-md-stretch">
                    <div class="unit-body">
                        <div class="promo-creative-meta">
                            <time class="promo-creative-time" datetime="2019-05-17"><span class="heading-1">@ViewBag.StatDate.Day</span><span class="heading-5">@ViewBag.StatDate.Month</span></time>
                            <div class="promo-creative-meta-description"><span class="text-primary"></span><span>@ViewBag.StatDate.DayOfWeek</span></div>
                        </div>
                        <div class="promo-creative-figure">
                            <img src="~/images/RR/7n.png" alt="" width="357" height="321" />
                        </div>
                    </div>
                    <div class="unit-right">
                        <div class="promo-creative-details">
                            <h4 class="promo-creative-title">@ViewBag.EventTitle</h4>
                            <p class="promo-creative-location">
                                <i class="icon icon-gray-800 fa fa-location-arrow"></i>@ViewBag.Location
                            </p>
                            <div class="promo-creative-countdown">
                                <div class="countdown countdown-bordered is-countdown" data-type="until" data-time=@ViewBag.StatDate data-format="dhms" data-style="short">
                                    <span class="countdown-row countdown-show4">
                                        <span class="countdown-section">
                                            <span class="countdown-amount">@((ViewBag.StatDate - DateTime.Now).Days)</span><span class="countdown-period">Days</span>
                                        </span><span class="countdown-section">
                                            <span class="countdown-amount">@((ViewBag.StatDate - DateTime.Now).Hours)</span><span class="countdown-period">Hrs</span>
                                        </span><span class="countdown-section">
                                            <span class="countdown-amount">@((ViewBag.StatDate - DateTime.Now).Minutes)</span><span class="countdown-period">Mins</span>
                                        </span><span class="countdown-section">
                                            <span class="countdown-amount">@((ViewBag.StatDate - DateTime.Now).Seconds)</span><span class="countdown-period">Secs</span>
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="">
                <table class="table table-striped table-bordered dt-responsive nowrap checkbox-height">
                    <thead class="theme-dark-th">
                        <tr>
                            <th class="draw-table-sec-th">Rider Name</th>
                            <th class="draw-table-sec-th">Bull Name</th>
                            <th class="draw-table-sec-th">Round</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model != null & Model.Count() > 0)
                        {
                            foreach (var item in Model.OrderBy(x => x.Round))
                                        {
                                <tr>
                                    <td>@item.RiderName</td>
                                    <td>@item.BullName</td>
                                    <td>@item.Round</td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="4">Draw not declared yet.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>